
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://Andy-Remy.github.io/Anvers/documentations/DNS/CUB%20-%20Serveur%20DNS%20Recursif/">
      
      
        <link rel="prev" href="../../..">
      
      
        <link rel="next" href="../CUB%20-%20Serveur%20DNS1%20Recursif/">
      
      
      <link rel="icon" href="../../../media/CUB.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>DNS0 - Récursif - CUB - Le contexte CUB Anvers</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#serveur-dns-recursif-andy" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../../.." title="Le contexte CUB Anvers" class="md-header__button md-logo" aria-label="Le contexte CUB Anvers" data-md-component="logo">
      
  <img src="../../../media/CUB.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Le contexte CUB Anvers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DNS0 - Récursif - CUB
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Le contexte CUB Anvers" class="md-nav__button md-logo" aria-label="Le contexte CUB Anvers" data-md-component="logo">
      
  <img src="../../../media/CUB.png" alt="logo">

    </a>
    Le contexte CUB Anvers
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CUB Anvers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            CUB Anvers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Documentations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DNS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            DNS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    DNS0 - Récursif - CUB
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    DNS0 - Récursif - CUB
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#administration-et-exploitation-des-services" class="md-nav__link">
    <span class="md-ellipsis">
      Administration et exploitation des services
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activite-1-mise-en-place-de-serveur-dns-au-sein-de-lentreprise-cub" class="md-nav__link">
    <span class="md-ellipsis">
      Activité 1 - Mise en place de serveur DNS au sein de l’entreprise CUB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Activité 1 - Mise en place de serveur DNS au sein de l’entreprise CUB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partie-1-realiser-un-nouveau-schema-logique" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 1 : Réaliser un nouveau schéma logique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partie-2-installation-et-parametrage-du-serveur-dns-recursif" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 2 : Installation et paramétrage du serveur DNS Récursif
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Partie 2 : Installation et paramétrage du serveur DNS Récursif">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verification-prealable" class="md-nav__link">
    <span class="md-ellipsis">
      1. Vérification préalable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-definir-les-parametres-reseaux-du-serveur" class="md-nav__link">
    <span class="md-ellipsis">
      2. Définir les paramètres réseaux du serveur.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-definir-le-serveur-dns-recursif-a-utiliser" class="md-nav__link">
    <span class="md-ellipsis">
      3. Définir le serveur DNS récursif à utiliser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-prendre-en-compte-les-modifications-des-parametres-reseaux" class="md-nav__link">
    <span class="md-ellipsis">
      4. Prendre en compte les modifications des paramètres réseaux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-configurer-correctement-les-fichiers-etchostname-et-etchosts" class="md-nav__link">
    <span class="md-ellipsis">
      5. Configurer correctement les fichiers /etc/hostname et /etc/hosts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-installer-unbound-et-les-outils-dadministration-appropries" class="md-nav__link">
    <span class="md-ellipsis">
      6. Installer Unbound et les outils d'administration appropriés
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-configurer-unbound" class="md-nav__link">
    <span class="md-ellipsis">
      7. Configurer Unbound
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partie-3-test-du-serveur-dns-recursif" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 3 : Test du serveur DNS Récursif
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CUB%20-%20Serveur%20DNS1%20Recursif/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNS1 - Récursif - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CUB%20-%20Serveur%20DNS%20Autorit%C3%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NS0 - Autorité - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CUB%20-%20Serveur%20DNS1%20esclave/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NS1 - Esclave - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          <label class="md-nav__link" for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Situations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            Situations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Situations/Situation%20n%C2%B00%20CUB%20%E2%80%93%20Plan%20d%27adressage%20-%20Sch%C3%A9ma%20logique%20%26%20physique%20-%20Table%20de%20routage%20-%20NAT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Situation n°O - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Situations/Situation%20n%C2%B01%20CUB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Situation n°1 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Situations/Situation%20n%C2%B02%20CUB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Situation n°2 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Situations/Situation%20n%C2%B03%20CUB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Situation n°3 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" >
        
          
          <label class="md-nav__link" for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_3">
            <span class="md-nav__icon md-icon"></span>
            Configs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Configs/Config%20Switch%203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Switch 3 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Configs/Config%20Switch%202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Switch 2 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#administration-et-exploitation-des-services" class="md-nav__link">
    <span class="md-ellipsis">
      Administration et exploitation des services
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activite-1-mise-en-place-de-serveur-dns-au-sein-de-lentreprise-cub" class="md-nav__link">
    <span class="md-ellipsis">
      Activité 1 - Mise en place de serveur DNS au sein de l’entreprise CUB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Activité 1 - Mise en place de serveur DNS au sein de l’entreprise CUB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partie-1-realiser-un-nouveau-schema-logique" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 1 : Réaliser un nouveau schéma logique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partie-2-installation-et-parametrage-du-serveur-dns-recursif" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 2 : Installation et paramétrage du serveur DNS Récursif
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Partie 2 : Installation et paramétrage du serveur DNS Récursif">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verification-prealable" class="md-nav__link">
    <span class="md-ellipsis">
      1. Vérification préalable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-definir-les-parametres-reseaux-du-serveur" class="md-nav__link">
    <span class="md-ellipsis">
      2. Définir les paramètres réseaux du serveur.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-definir-le-serveur-dns-recursif-a-utiliser" class="md-nav__link">
    <span class="md-ellipsis">
      3. Définir le serveur DNS récursif à utiliser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-prendre-en-compte-les-modifications-des-parametres-reseaux" class="md-nav__link">
    <span class="md-ellipsis">
      4. Prendre en compte les modifications des paramètres réseaux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-configurer-correctement-les-fichiers-etchostname-et-etchosts" class="md-nav__link">
    <span class="md-ellipsis">
      5. Configurer correctement les fichiers /etc/hostname et /etc/hosts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-installer-unbound-et-les-outils-dadministration-appropries" class="md-nav__link">
    <span class="md-ellipsis">
      6. Installer Unbound et les outils d'administration appropriés
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-configurer-unbound" class="md-nav__link">
    <span class="md-ellipsis">
      7. Configurer Unbound
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partie-3-test-du-serveur-dns-recursif" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 3 : Test du serveur DNS Récursif
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="serveur-dns-recursif-andy">Serveur DNS Recursif ANDY<a class="headerlink" href="#serveur-dns-recursif-andy" title="Permanent link">&para;</a></h1>
<p><strong>Auteurs :</strong> Andy REMY
<strong>Date de création :</strong> 02/10/2025</p>
<hr />
<p><img alt="Logo CUB" src="../../../media/CUB.png" /></p>
<h2 id="administration-et-exploitation-des-services">Administration et exploitation des services<a class="headerlink" href="#administration-et-exploitation-des-services" title="Permanent link">&para;</a></h2>
<h2 id="activite-1-mise-en-place-de-serveur-dns-au-sein-de-lentreprise-cub">Activité 1 - Mise en place de serveur DNS au sein de l’entreprise CUB<a class="headerlink" href="#activite-1-mise-en-place-de-serveur-dns-au-sein-de-lentreprise-cub" title="Permanent link">&para;</a></h2>
<h3 id="partie-1-realiser-un-nouveau-schema-logique">Partie 1 : Réaliser un nouveau schéma logique<a class="headerlink" href="#partie-1-realiser-un-nouveau-schema-logique" title="Permanent link">&para;</a></h3>
<p><img alt="Logo Schéma Logique" src="../../../media/Sch%C3%A9maLogique2.png" /></p>
<hr />
<h3 id="partie-2-installation-et-parametrage-du-serveur-dns-recursif">Partie 2 : Installation et paramétrage du serveur DNS Récursif<a class="headerlink" href="#partie-2-installation-et-parametrage-du-serveur-dns-recursif" title="Permanent link">&para;</a></h3>
<p>Pour commencer, une fois ma VM sous nutanix créé, j’ai modifié son adresse IP
192.168.1.10 et afin qu’il soit également dans le VLAN Production comme demandé.</p>
<p><img alt="1" src="../../../media/1.png" /></p>
<p>Nous pouvons commencer l'installation.</p>
<h4 id="1-verification-prealable">1. Vérification préalable<a class="headerlink" href="#1-verification-prealable" title="Permanent link">&para;</a></h4>
<p>Mettez à jour votre serveur</p>
<ul>
<li>sudo apt update &amp;&amp; sudo apt upgrade</li>
</ul>
<p><img alt="2" src="../../../media/2.png" /></p>
<p>Sur votre serveur Debian 12, installez le service de journalalisation rsyslog à la place de
journalctl. Cela vous permettra de disposer de fichiers de log clairs au format texte situés
dans /var/log.
- sudo apt install rsyslog</p>
<p><img alt="3" src="../../../media/3.png" /></p>
<h4 id="2-definir-les-parametres-reseaux-du-serveur">2. Définir les paramètres réseaux du serveur.<a class="headerlink" href="#2-definir-les-parametres-reseaux-du-serveur" title="Permanent link">&para;</a></h4>
<ul>
<li>sudoedit /etc/network/interfaces</li>
</ul>
<p><img alt="4" src="../../../media/4.png" /></p>
<h4 id="3-definir-le-serveur-dns-recursif-a-utiliser">3. Définir le serveur DNS récursif à utiliser<a class="headerlink" href="#3-definir-le-serveur-dns-recursif-a-utiliser" title="Permanent link">&para;</a></h4>
<p>sudoedit /etc/resolv.conf</p>
<p><img alt="5" src="../../../media/5.png" /></p>
<h4 id="4-prendre-en-compte-les-modifications-des-parametres-reseaux">4. Prendre en compte les modifications des paramètres réseaux<a class="headerlink" href="#4-prendre-en-compte-les-modifications-des-parametres-reseaux" title="Permanent link">&para;</a></h4>
<ul>
<li>sudo systemctl restart networking</li>
</ul>
<h4 id="5-configurer-correctement-les-fichiers-etchostname-et-etchosts">5. Configurer correctement les fichiers /etc/hostname et /etc/hosts<a class="headerlink" href="#5-configurer-correctement-les-fichiers-etchostname-et-etchosts" title="Permanent link">&para;</a></h4>
<p>Le fichier <strong>hostname</strong> sert à donner un nom à votre serveur.</p>
<ul>
<li>sudoedit /etc/hostname
dns0</li>
</ul>
<p><img alt="6" src="../../../media/6.png" /></p>
<ul>
<li>sudoedit /etc/hosts</li>
</ul>
<p><img alt="7" src="../../../media/7.png" /></p>
<p>Il est nécessaire de redémarrer le serveur pour prendre en compte le changement de nom.
sudo shutdown -r now</p>
<h4 id="6-installer-unbound-et-les-outils-dadministration-appropries">6. Installer Unbound et les outils d'administration appropriés<a class="headerlink" href="#6-installer-unbound-et-les-outils-dadministration-appropries" title="Permanent link">&para;</a></h4>
<ul>
<li>sudo apt install unbound dnsutils tcpdump tmux curl</li>
</ul>
<h4 id="7-configurer-unbound">7. Configurer Unbound<a class="headerlink" href="#7-configurer-unbound" title="Permanent link">&para;</a></h4>
<ul>
<li>sudoedit /etc/unbound/unbound.conf</li>
</ul>
<p><img alt="8" src="../../../media/8.png" /></p>
<p>Il est important de vérifier ensuite que la syntaxe des lignes contenues dans le fichier de
configuration est correcte. Pour cela, il existe la commande <strong>unbound-checkconf</strong>.</p>
<ul>
<li>sudo unbound-checkconf</li>
</ul>
<p><img alt="9" src="../../../media/9.png" />
<img alt="10" src="../../../media/10.png" /></p>
<p>On récupère les adresses des serveurs racines et nous les stockons dans le fichier
/var/lib/unbound/root.hints. Ce fichier est indispensable et permet au service Unbound de
savoir comment contacter le serveur racine le plus proche ou rapide.</p>
<ul>
<li>sudo curl --output /var/lib/unbound/root.hints https://www.internic.net/domain/named.cache</li>
<li>sudo chown -R unbound:unbound /var/lib/unbound/</li>
</ul>
<p>On crée le fichier de log spécifique à Unbound.</p>
<ul>
<li>sudo touch /var/log/unbound.log</li>
<li>chown unbound:unbound /var/log/unbound.log</li>
<li>sudo systemctl restart unbound</li>
<li>sudo systemctl status unbound</li>
</ul>
<p>⚠️Attention !!
Sur les systèmes Debian récents, un logiciel de sécurité de type MAC (Mandatory Access
Control) nommé AppArmor est activé par défaut. Il surveille entre autres les droits d’accès
des différents processus lancés sur le système. Par défaut, AppArmor empêche le service
unbound de lire et d’écrire dans le répertoire /var/log/. Il est donc indispensable de changer
ces permissions.</p>
<ul>
<li>sudoedit /etc/apparmor.d/usr.sbin.unbound</li>
</ul>
<p><img alt="11" src="../../../media/11.png" /></p>
<p>On vérifie que le nouveau fichier de configuration de AppArmor ne contient pas d’erreurs
puis on redémarre le service.
- sudo apparmor_parser -r /etc/apparmor.d/usr.sbin.unbound
- sudo systemctl restart apparmor</p>
<p>Si l’on souhaite observer les événements journalisés :
- sudo cat /var/log/unbound.log</p>
<p>Si l’on souhaite observer les derniers évènements enregistrés dans le fichier de log en temps réel :
- sudo tail -f /var/log/unbound.log</p>
<h3 id="partie-3-test-du-serveur-dns-recursif">Partie 3 : Test du serveur DNS Récursif<a class="headerlink" href="#partie-3-test-du-serveur-dns-recursif" title="Permanent link">&para;</a></h3>
<p>Sur mon poste, je me suis placé dans le Vlan Administration, puis j’ai réaliser la commande
suivante :</p>
<ul>
<li>dig dns</li>
<li>dig 192.168.1.</li>
<li>dig 192.168.1.1 1</li>
<li>dig @192.168.1.10 google.com</li>
</ul>
<p><img alt="12" src="../../../media/12.png" />
<img alt="13" src="../../../media/13.png" />
<img alt="14" src="../../../media/14.png" /></p>
<p>Voilà, notre serveur DNS Récursif est opérationnel !!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>