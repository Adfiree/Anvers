
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://Andy-Remy.github.io/Anvers/documentations/DNS/CUB%20-%20Serveur%20DNS1%20esclave/">
      
      
        <link rel="prev" href="../CUB%20-%20Serveur%20DNS%20Autorit%C3%A9/">
      
      
        <link rel="next" href="../../Situations/Situation%20n%C2%B00%20CUB%20%E2%80%93%20Plan%20d%27adressage%20-%20Sch%C3%A9ma%20logique%20%26%20physique%20-%20Table%20de%20routage%20-%20NAT/">
      
      
      <link rel="icon" href="../../../media/CUB.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>NS1 - Esclave - CUB - Le contexte CUB Anvers</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#serveur-dns-autorite-esclave-mateo" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../../.." title="Le contexte CUB Anvers" class="md-header__button md-logo" aria-label="Le contexte CUB Anvers" data-md-component="logo">
      
  <img src="../../../media/CUB.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Le contexte CUB Anvers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              NS1 - Esclave - CUB
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Le contexte CUB Anvers" class="md-nav__button md-logo" aria-label="Le contexte CUB Anvers" data-md-component="logo">
      
  <img src="../../../media/CUB.png" alt="logo">

    </a>
    Le contexte CUB Anvers
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CUB Anvers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            CUB Anvers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Documentations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DNS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            DNS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CUB%20-%20Serveur%20DNS%20Recursif/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNS0 - Récursif - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CUB%20-%20Serveur%20DNS1%20Recursif/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNS1 - Récursif - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CUB%20-%20Serveur%20DNS%20Autorit%C3%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NS0 - Autorité - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    NS1 - Esclave - CUB
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    NS1 - Esclave - CUB
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#administration-et-exploitation-des-services" class="md-nav__link">
    <span class="md-ellipsis">
      Administration et exploitation des services
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activite-1-mise-en-place-du-serveur-dns-esclave-faisant-autorite-au-sein-de-lentreprise-cub" class="md-nav__link">
    <span class="md-ellipsis">
      Activité 1 - Mise en place du serveur DNS (esclave) faisant autorité au sein de l'entreprise CUB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Activité 1 - Mise en place du serveur DNS (esclave) faisant autorité au sein de l&#39;entreprise CUB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partie-1-realisation-dun-nouveau-schema-logique" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 1 : Réalisation d'un nouveau schéma logique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partie-2-installation-et-parametrage-du-serveur-dns-esclave-faisant-autorite" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 2 : Installation et paramétrage du serveur DNS (esclave) faisant autorité
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Partie 2 : Installation et paramétrage du serveur DNS (esclave) faisant autorité">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verification-prealable" class="md-nav__link">
    <span class="md-ellipsis">
      1 - Vérification préalable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-definir-les-parametre-reseau-du-serveur" class="md-nav__link">
    <span class="md-ellipsis">
      2 - Définir les paramètre réseau du serveur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-definir-les-serveurs-dns-recursif-a-utiliser" class="md-nav__link">
    <span class="md-ellipsis">
      3 - Définir les serveurs DNS Récursif à utiliser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-prendre-en-compte-les-modifications-des-parametres-reseaux" class="md-nav__link">
    <span class="md-ellipsis">
      4 - Prendre en compte les modifications des paramètres réseaux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-ajouter-le-hostname-au-fichiers-etchostname-et-etchosts" class="md-nav__link">
    <span class="md-ellipsis">
      5 - Ajouter le hostname au fichiers /etc/hostname et /etc/hosts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-exemple-de-configuration-dun-serveur-dns-esclave-faisant-autorite" class="md-nav__link">
    <span class="md-ellipsis">
      6 - Exemple de configuration d'un serveur DNS esclave faisant autorité
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-mise-en-place-de-la-journalisation" class="md-nav__link">
    <span class="md-ellipsis">
      7 - Mise en place de la journalisation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-test-des-dns-faisant-autorite-esclave-et-maitre" class="md-nav__link">
    <span class="md-ellipsis">
      8 - Test des DNS faisant autorité esclave et maître
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          <label class="md-nav__link" for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Situations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            Situations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Situations/Situation%20n%C2%B00%20CUB%20%E2%80%93%20Plan%20d%27adressage%20-%20Sch%C3%A9ma%20logique%20%26%20physique%20-%20Table%20de%20routage%20-%20NAT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Situation n°O - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Situations/Situation%20n%C2%B01%20CUB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Situation n°1 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Situations/Situation%20n%C2%B02%20CUB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Situation n°2 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Situations/Situation%20n%C2%B03%20CUB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Situation n°3 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" >
        
          
          <label class="md-nav__link" for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_3">
            <span class="md-nav__icon md-icon"></span>
            Configs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Configs/Config%20Switch%203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Switch 3 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Configs/Config%20Switch%202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Switch 2 - CUB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#administration-et-exploitation-des-services" class="md-nav__link">
    <span class="md-ellipsis">
      Administration et exploitation des services
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activite-1-mise-en-place-du-serveur-dns-esclave-faisant-autorite-au-sein-de-lentreprise-cub" class="md-nav__link">
    <span class="md-ellipsis">
      Activité 1 - Mise en place du serveur DNS (esclave) faisant autorité au sein de l'entreprise CUB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Activité 1 - Mise en place du serveur DNS (esclave) faisant autorité au sein de l&#39;entreprise CUB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partie-1-realisation-dun-nouveau-schema-logique" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 1 : Réalisation d'un nouveau schéma logique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partie-2-installation-et-parametrage-du-serveur-dns-esclave-faisant-autorite" class="md-nav__link">
    <span class="md-ellipsis">
      Partie 2 : Installation et paramétrage du serveur DNS (esclave) faisant autorité
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Partie 2 : Installation et paramétrage du serveur DNS (esclave) faisant autorité">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verification-prealable" class="md-nav__link">
    <span class="md-ellipsis">
      1 - Vérification préalable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-definir-les-parametre-reseau-du-serveur" class="md-nav__link">
    <span class="md-ellipsis">
      2 - Définir les paramètre réseau du serveur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-definir-les-serveurs-dns-recursif-a-utiliser" class="md-nav__link">
    <span class="md-ellipsis">
      3 - Définir les serveurs DNS Récursif à utiliser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-prendre-en-compte-les-modifications-des-parametres-reseaux" class="md-nav__link">
    <span class="md-ellipsis">
      4 - Prendre en compte les modifications des paramètres réseaux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-ajouter-le-hostname-au-fichiers-etchostname-et-etchosts" class="md-nav__link">
    <span class="md-ellipsis">
      5 - Ajouter le hostname au fichiers /etc/hostname et /etc/hosts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-exemple-de-configuration-dun-serveur-dns-esclave-faisant-autorite" class="md-nav__link">
    <span class="md-ellipsis">
      6 - Exemple de configuration d'un serveur DNS esclave faisant autorité
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-mise-en-place-de-la-journalisation" class="md-nav__link">
    <span class="md-ellipsis">
      7 - Mise en place de la journalisation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-test-des-dns-faisant-autorite-esclave-et-maitre" class="md-nav__link">
    <span class="md-ellipsis">
      8 - Test des DNS faisant autorité esclave et maître
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="serveur-dns-autorite-esclave-mateo">Serveur DNS Autorité (Esclave) Matéo<a class="headerlink" href="#serveur-dns-autorite-esclave-mateo" title="Permanent link">&para;</a></h1>
<p><strong>Auteurs :</strong> Matéo Beaugendre</p>
<p><strong>Date de création :</strong> 09/10/2025</p>
<hr />
<p><img alt="image Cub" src="../../../media/CUB.png" /></p>
<h2 id="administration-et-exploitation-des-services">Administration et exploitation des services<a class="headerlink" href="#administration-et-exploitation-des-services" title="Permanent link">&para;</a></h2>
<h2 id="activite-1-mise-en-place-du-serveur-dns-esclave-faisant-autorite-au-sein-de-lentreprise-cub">Activité 1 - Mise en place du serveur DNS (esclave) faisant autorité au sein de l'entreprise CUB<a class="headerlink" href="#activite-1-mise-en-place-du-serveur-dns-esclave-faisant-autorite-au-sein-de-lentreprise-cub" title="Permanent link">&para;</a></h2>
<hr />
<h3 id="partie-1-realisation-dun-nouveau-schema-logique">Partie 1 : Réalisation d'un nouveau schéma logique<a class="headerlink" href="#partie-1-realisation-dun-nouveau-schema-logique" title="Permanent link">&para;</a></h3>
<p><img alt="Schéma logique CUB" src="../../../media/a1.png" /></p>
<h3 id="partie-2-installation-et-parametrage-du-serveur-dns-esclave-faisant-autorite">Partie 2 : Installation et paramétrage du serveur DNS (esclave) faisant autorité<a class="headerlink" href="#partie-2-installation-et-parametrage-du-serveur-dns-esclave-faisant-autorite" title="Permanent link">&para;</a></h3>
<h4 id="1-verification-prealable">1 - Vérification préalable<a class="headerlink" href="#1-verification-prealable" title="Permanent link">&para;</a></h4>
<p><strong>Mettez à jour votre serveur</strong></p>
<ul>
<li>sudo apt update &amp;&amp; sudo apt upgrade</li>
</ul>
<p><strong>Sur votre serveur Debian 12, installez le service de journalisation rsyslog à la place de journalctl. Cela vous permettra de disposer de fichiers de log clairs au format texte situés dans /var/log<em>.</em></strong></p>
<ul>
<li>sudo apt install rsyslog</li>
</ul>
<p><strong>Installez le service Bind 9 et les outils diagnostics DNS</strong></p>
<ul>
<li>sudo apt install bind9 dnsutils</li>
</ul>
<h4 id="2-definir-les-parametre-reseau-du-serveur">2 - Définir les paramètre réseau du serveur<a class="headerlink" href="#2-definir-les-parametre-reseau-du-serveur" title="Permanent link">&para;</a></h4>
<ul>
<li>sudoedit /etc/network/interfaces</li>
</ul>
<p>source /etc/network/interfaces.d/*</p>
<p># The loopback network interface<br />
auto lo<br />
iface lo inet loopback</p>
<p># The primary network interface<br />
allow-hotplug ens192<br />
auto ens192<br />
iface ens192 inet static<br />
address 172.16.3.11<br />
netmask 255.255.255.0<br />
gateway 172.16.3.254</p>
<h4 id="3-definir-les-serveurs-dns-recursif-a-utiliser">3 - Définir les serveurs DNS Récursif à utiliser<a class="headerlink" href="#3-definir-les-serveurs-dns-recursif-a-utiliser" title="Permanent link">&para;</a></h4>
<ul>
<li>sudoedit /etc/resolv.conf  </li>
</ul>
<p><strong><em>Après avoir entré la commande il y aura que le nameserver 9.9.9.9 on ajoute un autre DNS public</em></strong> </p>
<p>nameserver 86.54.11.100<br />
nameserver 9.9.9.9</p>
<h4 id="4-prendre-en-compte-les-modifications-des-parametres-reseaux">4 - Prendre en compte les modifications des paramètres réseaux<a class="headerlink" href="#4-prendre-en-compte-les-modifications-des-parametres-reseaux" title="Permanent link">&para;</a></h4>
<ul>
<li><em>sudo systemctl restart networking</em></li>
</ul>
<p><strong>Configurer correctement les fichiers /etc/hostname et /etc/hosts</strong></p>
<p><strong>Le fichier hostname sert à donner un nom à votre serveur.</strong></p>
<ul>
<li>sudoedit /etc/hostname</li>
</ul>
<h4 id="5-ajouter-le-hostname-au-fichiers-etchostname-et-etchosts">5 - Ajouter le hostname au fichiers /etc/hostname et /etc/hosts<a class="headerlink" href="#5-ajouter-le-hostname-au-fichiers-etchostname-et-etchosts" title="Permanent link">&para;</a></h4>
<p>ajouter <strong>ns1</strong> dans le fichier </p>
<ul>
<li>sudoedit /etc/hosts</li>
</ul>
<p>127.0.0.1   localhost</p>
<p>127.0.1.1   ns1.anvers.cub.sioplc.fr   ns1</p>
<p># The following lines are desirable for IPv6 capable hosts</p>
<p>::1     localhost ip6-localhost ip6-loopback</p>
<p>ff02::1 ip6-allnodes</p>
<p>ff02::2 ip6-allrouters</p>
<p><strong><em>Il est nécessaire de redémarrer le serveur pour prendre en compte le changement de nom.</em></strong></p>
<ul>
<li><em>sudo shutdown -r now</em></li>
</ul>
<h4 id="6-exemple-de-configuration-dun-serveur-dns-esclave-faisant-autorite">6 - Exemple de configuration d'un serveur DNS esclave faisant autorité<a class="headerlink" href="#6-exemple-de-configuration-dun-serveur-dns-esclave-faisant-autorite" title="Permanent link">&para;</a></h4>
<p><strong><em>Déclaration de la zone que l’on souhaite transférer depuis le serveur maître sur le serveur esclave :</em></strong></p>
<ul>
<li>sudoedit /etc/bind/named.conf.local</li>
</ul>
<p>zone "anvers.cub.sioplc.fr" {</p>
<div class="codehilite"><pre><span></span><code><span class="n">type</span><span class="w"> </span><span class="n">slave</span><span class="p">;</span>

<span class="n">masters</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">192.36</span><span class="o">.</span><span class="mf">1.10</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>

<span class="n">file</span><span class="w"> </span><span class="s2">&quot;/var/cache/bind/db.anvers.cub.sioplc.fr&quot;</span><span class="p">;</span>
</code></pre></div>

<p>};</p>
<p><strong><em>Grâce à cette configuration, le serveur esclave réalisera un transfert de zone auprès du serveur maître. Pour que le contenu du transfert soit stocké dans un fichier de zone, il est nécessaire de le créer au préalable avec les permissions adéquates :</em></strong></p>
<ul>
<li>
<p><em>sudo touch /var/cache/bind/db.anvers.cub.sioplc.fr</em></p>
</li>
<li>
<p><em>sudo chown bind:bind /var/cache/bind/db.anvers.cub.sioplc.fr</em></p>
</li>
</ul>
<h4 id="7-mise-en-place-de-la-journalisation">7 - Mise en place de la journalisation<a class="headerlink" href="#7-mise-en-place-de-la-journalisation" title="Permanent link">&para;</a></h4>
<ul>
<li><em>sudoedit /etc/bind/named.conf.log</em></li>
</ul>
<p><em>logging {</em></p>
<div class="codehilite"><pre><span></span><code><span class="o">*</span><span class="n">channel</span><span class="w"> </span><span class="n">bind</span>\<span class="n">_log</span><span class="w"> </span><span class="p">{</span><span class="o">*</span>

<span class="w">                </span><span class="o">*</span><span class="n">file</span><span class="w"> </span><span class="s2">&quot;/var/log/bind.log&quot;</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="mi">100</span><span class="n">m</span><span class="p">;</span><span class="o">*</span>

<span class="w">               </span><span class="o">*</span><span class="n">severity</span><span class="w"> </span><span class="n">info</span><span class="p">;</span><span class="o">*</span>

<span class="w">                </span><span class="o">*</span><span class="nb">print</span><span class="o">-</span><span class="n">category</span><span class="w">  </span><span class="n">yes</span><span class="p">;</span><span class="o">*</span>

<span class="w">                </span><span class="o">*</span><span class="nb">print</span><span class="o">-</span><span class="n">severity</span><span class="w">  </span><span class="n">yes</span><span class="p">;</span><span class="o">*</span>

<span class="w">                </span><span class="o">*</span><span class="nb">print</span><span class="o">-</span><span class="n">time</span><span class="w">      </span><span class="n">yes</span><span class="p">;</span><span class="o">*</span>

<span class="o">*</span><span class="p">};</span><span class="o">*</span>

<span class="o">*</span><span class="n">category</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">bind</span>\<span class="n">_log</span><span class="p">;</span><span class="w"> </span><span class="p">};</span><span class="o">*</span>
</code></pre></div>

<p><em>};</em></p>
<ul>
<li>
<p><em>sudo touch /var/log/bind.log</em></p>
</li>
<li>
<p><em>sudo chown bind:bind /var/log/bind.log</em></p>
</li>
<li>
<p><em>sudoedit /etc/bind/named.conf</em></p>
</li>
</ul>
<p><em>// This is the primary configuration file for the BIND DNS server named.</em></p>
<p><em>// If you are just adding zones, please do that in /etc/bind/named.conf.local</em></p>
<p><em>include "/etc/bind/named.conf.options";</em></p>
<p><em>include "/etc/bind/named.conf.local";</em></p>
<p><em>include "/etc/bind/named.conf.default-zones";</em></p>
<p><em>// Ajout du fichier de parametrage de la journalisation du service BIND</em></p>
<p><em>include "/etc/bind/named.conf.log";</em></p>
<p><strong><em>Sur les systèmes Debian récents, un logiciel de sécurité de type MAC (Mandatory Access Control) nommé AppArmor est activé par défaut. Il surveille entre autres les droits d’accès des différents processus lancés sur le système. Par défaut, AppArmor empêche le service Bind 9 de lire et écrire dans le répertoire /var/log/. Il est donc indispensable de changer ces permissions.</em></strong></p>
<ul>
<li><em>sudoedit /etc/apparmor.d/usr.sbin.named</em></li>
</ul>
<p># On autorise le daemon Bind 9 à lire et ecrire dans le fichier /var/log/bind.log</p>
<p>/var/log/bind.log rw,</p>
<p><strong><em>On vérifie que le nouveau fichier de configuration de AppArmor ne contient pas d’erreurs puis on redémarre le service.</em></strong></p>
<ul>
<li><em>sudo apparmor_parser -r /etc/apparmor.d/local/usr.sbin.named</em>  </li>
<li><em>sudo systemctl restart apparmor</em></li>
</ul>
<p><strong>La commande named-checkconf permet de vérifier si des erreurs de syntaxe sont présentes et de fournir les éléments ou lignes qui posent problème dans un fichier en particulier.</strong></p>
<ul>
<li><em>sudo named-checkconf -z</em>  </li>
<li><em>sudo systemctl restart bind9</em>  </li>
<li><em>sudo systemctl status bind9</em></li>
</ul>
<h3 id="8-test-des-dns-faisant-autorite-esclave-et-maitre">8 - Test des DNS faisant autorité esclave et maître<a class="headerlink" href="#8-test-des-dns-faisant-autorite-esclave-et-maitre" title="Permanent link">&para;</a></h3>
<p><strong>Vérifier le serial SOA</strong></p>
<p><img alt="image test SOA" src="../../../media/img_esclave%28M%29/img_1.png" /></p>
<p>nous retrouvons le numéro sérial du DNS maître </p>
<p><img alt="image resultat SOA" src="../../../media/img_esclave%28M%29/img_2.png" /></p>
<p><strong>Test de la résolution DNS</strong></p>
<p><img alt="image test Reso DNS" src="../../../media/img_esclave%28M%29/img_3.png" /></p>
<p>Résultat de la commande </p>
<p><img alt="image resultat reso DNS" src="../../../media/img_esclave%28M%29/img_4.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>